此处设计系统的整体架构

## 底层容器类

最基础的容器类，最大单位为卡牌，用于储存并管理卡牌的各种属性，并向外提供访问和修改这些属性的接口

## 场景

场景是高于底层容器类的一个结构，对于godot中的一个tscn文件。
场景可以保存底层容器类，并是整个游戏内存管理的基本单位（即游戏中所有内容都以场景为单位储存与游戏中，所有的交互都是由场景实现，所有的数据由场景管理）

### 系统场景

不用于与用户交互，而是用于实现系统功能的场景。目前设计的系统场景如下

- 卡牌模板场景:
	- 全局场景
	- 从脚本中读取卡牌模板数据，提前储存于内存中，提供从脚本读取数据的接口
	- 当场景需要一张新的卡片时，场景从该模板场景中复制一个副本，并在其副本基础上进行操作
	- 模板仅包括卡片模板，场景则交由**场景容器**管理
- 场景容器: 
	- 全局场景
	- 用于管理场景，其中储存各个场景，用作场景的暂存区，在场景切换时储存上一个场景，并用于随时获得其他场景
	- 提供场景间交流接口，可用于进行容器内部场景的相互接口调用
	- 提供场景数据的储存和读取脚本接口
- 场景控制器模板
	- 用于设置唯一的主场景，通过与场景容器交互，来获取和储存场景
	- 并不储存主场景，只是用于设置某一场景为主场景
- 全局配置场景
	- 全局场景
	- 用于储存与场景和游戏内容无关，只与整个游戏内容外系统相关的全局数据
	- 提供脚本储存与读取接口
- Main场景
	- 整个游戏场景树的根节点
	- 仅作为一个游戏的启动节点，在游戏启动后将控制器全部交由主界面场景

### 交互场景

提供与用于交互的接口，同时也实现该场景所有的功能，存储该场景相关的数据，是最重要的功能模块，其中可以包括以下内容

- 交互组件: 用于与用户进行交互的场景交互组件
- 卡牌数据: 以卡牌为单位存储的场景数据
- 场景数据: 卡牌外的场景数据
- 工具类: 辅助实现某些功能的工具类
- 交流接口: 用于与其他场景交互的接口

目前设计的交互场景如下:

- 主菜单场景
	- 游戏的入口，由Main场景调用启动后获得系统的控制权，通过该场景进行其他场景的创建与初始化工作
	- 或者在进入存档场景后将控制权移交至存档场景
	- 拥有以下接口
		- 开始游戏
		- 读取游戏: 进入存档场景
		- 游戏设置: 进入游戏设置场景
		- 退出游戏: 释放资源，并关闭游戏
		- 其他
- 子菜单场景
	- 在游戏进程中调出的系统子菜单场景，用于进程中调用存档场景，设置场景
	- 拥有以下接口
		- 返回游戏
		- 读取/存储游戏: 调用存档场景
		- 游戏设置: 调用游戏设置场景
		- 返回主菜单: 释放资源，调用主菜单场景
- 存档场景
	- 用于进行存档数据的读取与储存等操作
	- 读档: 并根据存档文件进行场景的创建与初始化；若是游戏进程中读档，则还需负责当前场景的释放
	- 存档: 将目前场景容器中的内容进行存储至存档文件，并不涉及全局配置场景的存储
- 游戏设置场景
	- 用于设置与游戏内容无关的全局游戏设定
	- 游戏设置在调用设置存储接口后自动存储，并在游戏开始后自动读取，可通过调用设为默认接口来恢复默认设置
- 交易场景
- 仓库场景
- 地图场景
- 对话场景
- 战斗场景
- 探索场景